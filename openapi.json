{
  "openapi": "3.0.1",
  "info": {
    "title": "Personal Site API",
    "description": "Public endpoints plus admin CRUD for posts, projects, testimonials, and contact moderation.",
    "version": "v1"
  },
  "servers": [
    { "url": "http://localhost:8080", "description": "Generated server url" }
  ],
  "paths": {
    "/api/testimonials/{id}": {
      "put": {
        "tags": ["Testimonials"],
        "summary": "Update testimonial",
        "operationId": "update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestimonialUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Testimonials"],
        "summary": "Delete testimonial",
        "operationId": "delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/projects/{id}": {
      "put": {
        "tags": ["Resume"],
        "summary": "Update resume project",
        "operationId": "updateProject",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Resume"],
        "summary": "Delete resume project",
        "operationId": "deleteProject",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/languages/{id}": {
      "put": {
        "tags": ["Resume"],
        "summary": "Update language",
        "operationId": "updateLanguage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/LanguageUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Resume"],
        "summary": "Delete language",
        "operationId": "deleteLanguage",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/hobbies": {
      "get": {
        "tags": ["Resume"],
        "summary": "Get hobbies (public)",
        "operationId": "getHobbies",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": { "$ref": "#/components/schemas/ResumeHobbiesEntity" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Resume"],
        "summary": "Upsert hobbies",
        "operationId": "upsertHobbies",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/HobbiesUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": { "schema": { "type": "string", "format": "uuid" } }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/education/{id}": {
      "put": {
        "tags": ["Resume"],
        "summary": "Update education",
        "operationId": "updateEducation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EducationUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Resume"],
        "summary": "Delete education",
        "operationId": "deleteEducation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/certificates/{id}": {
      "put": {
        "tags": ["Resume"],
        "summary": "Update certificate",
        "operationId": "updateCertificate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CertificateUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Resume"],
        "summary": "Delete certificate",
        "operationId": "deleteCertificate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/projects/{id}": {
      "put": {
        "tags": ["Projects"],
        "summary": "Update project",
        "operationId": "update_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Projects"],
        "summary": "Delete project",
        "operationId": "delete_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/posts/{id}": {
      "put": {
        "tags": ["Posts"],
        "summary": "Update post",
        "operationId": "update_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PostUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": { "200": { "description": "OK" } },
        "security": [{ "bearer-jwt": [] }]
      },
      "delete": {
        "tags": ["Posts"],
        "summary": "Delete post",
        "operationId": "delete_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/testimonials": {
      "get": {
        "tags": ["Testimonials"],
        "summary": "List testimonials (public)",
        "operationId": "list",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/TestimonialDto" }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Testimonials"],
        "summary": "Create testimonial",
        "operationId": "create",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestimonialUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/projects": {
      "get": {
        "tags": ["Resume"],
        "summary": "List resume projects (public)",
        "operationId": "listProjects",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ResumeProjectEntity"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Resume"],
        "summary": "Create resume project",
        "operationId": "createProject",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": { "schema": { "type": "string", "format": "uuid" } }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/languages": {
      "get": {
        "tags": ["Resume"],
        "summary": "List languages (public)",
        "operationId": "listLanguages",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ResumeLanguageEntity"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Resume"],
        "summary": "Create language",
        "operationId": "createLanguage",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/LanguageUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": { "schema": { "type": "string", "format": "uuid" } }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/education": {
      "get": {
        "tags": ["Resume"],
        "summary": "List education (public)",
        "operationId": "listEducation",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ResumeEducationEntity"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Resume"],
        "summary": "Create education",
        "operationId": "createEducation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EducationUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": { "schema": { "type": "string", "format": "uuid" } }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/resume/certificates": {
      "get": {
        "tags": ["Resume"],
        "summary": "List certificates (public)",
        "operationId": "listCertificates",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ResumeCertificateEntity"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Resume"],
        "summary": "Create certificate",
        "operationId": "createCertificate",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CertificateUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": { "schema": { "type": "string", "format": "uuid" } }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/projects": {
      "get": {
        "tags": ["Projects"],
        "summary": "List projects (public)",
        "operationId": "list_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/ProjectDto" }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Projects"],
        "summary": "Create project",
        "operationId": "create_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ProjectUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/posts": {
      "get": {
        "tags": ["Posts"],
        "summary": "List posts (public)",
        "operationId": "list_2",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": { "type": "string" }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageDtoPostListItemDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Posts"],
        "summary": "Create post",
        "operationId": "create_2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PostUpsertRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/contact": {
      "get": {
        "tags": ["Contact Admin"],
        "summary": "List contact messages",
        "operationId": "list_3",
        "parameters": [
          {
            "name": "handled",
            "in": "query",
            "required": false,
            "schema": { "type": "boolean" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContactMessageEntity"
                  }
                }
              }
            }
          }
        },
        "security": [{ "bearer-jwt": [] }]
      },
      "post": {
        "tags": ["Contact"],
        "summary": "Submit contact message (public)",
        "operationId": "submit",
        "parameters": [
          {
            "name": "X-Forwarded-For",
            "in": "header",
            "required": false,
            "schema": { "type": "string" }
          },
          {
            "name": "X-Real-IP",
            "in": "header",
            "required": false,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ContactRequest" }
            }
          },
          "required": true
        },
        "responses": { "202": { "description": "Accepted" } }
      }
    },
    "/api/contact/{id}:handle": {
      "post": {
        "tags": ["Contact Admin"],
        "summary": "Mark contact message handled",
        "operationId": "handle",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": { "204": { "description": "No Content" } },
        "security": [{ "bearer-jwt": [] }]
      }
    },
    "/api/posts/{slug}": {
      "get": {
        "tags": ["Posts"],
        "summary": "Get post by slug (public)",
        "operationId": "get",
        "parameters": [
          {
            "name": "slug",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": { "$ref": "#/components/schemas/PostDetailDto" }
              }
            }
          }
        }
      }
    },
    "/api/meta": {
      "get": {
        "tags": ["Meta"],
        "summary": "Get site meta (public)",
        "operationId": "get_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": { "schema": { "$ref": "#/components/schemas/MetaDto" } }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "TestimonialUpsertRequest": {
        "type": "object",
        "properties": {
          "author": { "type": "string" },
          "role": { "type": "string" },
          "avatar_url": { "type": "string" },
          "quote": { "type": "string" },
          "order": { "type": "integer", "format": "int32" }
        }
      },
      "ProjectUpsertRequest": {
        "type": "object",
        "properties": {
          "company": { "type": "string" },
          "projectName": { "type": "string" },
          "from": { "type": "string", "format": "date-time" },
          "until": { "type": "string", "format": "date-time" },
          "description": { "type": "string" },
          "responsibilities": {
            "type": "array",
            "items": { "type": "string" }
          },
          "techStack": { "type": "array", "items": { "type": "string" } },
          "repoUrl": { "type": "string" },
          "demoUrl": { "type": "string" }
        }
      },
      "LanguageUpsertRequest": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "level": { "type": "string" }
        }
      },
      "HobbiesUpsertRequest": {
        "type": "object",
        "properties": {
          "sports": { "type": "array", "items": { "type": "string" } },
          "others": { "type": "array", "items": { "type": "string" } }
        }
      },
      "EducationUpsertRequest": {
        "type": "object",
        "properties": {
          "institution": { "type": "string" },
          "field": { "type": "string" },
          "degree": { "type": "string" },
          "since": { "type": "string", "format": "date-time" },
          "expectedUntil": { "type": "string", "format": "date-time" },
          "thesisTitle": { "type": "string" },
          "thesisDescription": { "type": "string" },
          "status": { "type": "string" }
        }
      },
      "CertificateUpsertRequest": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "issuer": { "type": "string" },
          "from": { "type": "string", "format": "date-time" },
          "to": { "type": "string", "format": "date-time" },
          "description": { "type": "string" },
          "certificateId": { "type": "string" },
          "url": { "type": "string" }
        }
      },
      "PostUpsertRequest": {
        "type": "object",
        "properties": {
          "slug": { "type": "string" },
          "title": { "type": "string" },
          "excerpt": { "type": "string" },
          "content_mdx": { "type": "string" },
          "cover_url": { "type": "string" },
          "tags": { "type": "array", "items": { "type": "string" } },
          "status": { "type": "string" },
          "published_at": { "type": "string", "format": "date-time" }
        }
      },
      "ContactRequest": {
        "required": ["email", "message", "name"],
        "type": "object",
        "properties": {
          "name": { "maxLength": 200, "minLength": 0, "type": "string" },
          "email": { "maxLength": 320, "minLength": 0, "type": "string" },
          "message": { "maxLength": 4000, "minLength": 0, "type": "string" },
          "website": { "type": "string" }
        }
      },
      "TestimonialDto": {
        "type": "object",
        "properties": {
          "author": { "type": "string" },
          "role": { "type": "string" },
          "avatar_url": { "type": "string" },
          "quote": { "type": "string" },
          "order": { "type": "integer", "format": "int32" }
        }
      },
      "ResumeProjectEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "company": { "type": "string" },
          "projectName": { "type": "string" },
          "from": { "type": "string", "format": "date-time" },
          "until": { "type": "string", "format": "date-time" },
          "description": { "type": "string" },
          "responsibilities": {
            "type": "array",
            "items": { "type": "string" }
          },
          "techStack": { "type": "array", "items": { "type": "string" } },
          "repoUrl": { "type": "string" },
          "demoUrl": { "type": "string" }
        }
      },
      "ResumeLanguageEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "level": { "type": "string" }
        }
      },
      "ResumeHobbiesEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "sports": { "type": "array", "items": { "type": "string" } },
          "others": { "type": "array", "items": { "type": "string" } }
        }
      },
      "ResumeEducationEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "institution": { "type": "string" },
          "field": { "type": "string" },
          "degree": { "type": "string" },
          "since": { "type": "string", "format": "date-time" },
          "expectedUntil": { "type": "string", "format": "date-time" },
          "thesisTitle": { "type": "string" },
          "thesisDescription": { "type": "string" },
          "status": { "type": "string" }
        }
      },
      "ResumeCertificateEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "issuer": { "type": "string" },
          "from": { "type": "string", "format": "date-time" },
          "to": { "type": "string", "format": "date-time" },
          "description": { "type": "string" },
          "certificateId": { "type": "string" },
          "url": { "type": "string" }
        }
      },
      "ProjectDto": {
        "type": "object",
        "properties": {
          "slug": { "type": "string" },
          "title": { "type": "string" },
          "summary": { "type": "string" },
          "content_mdx": { "type": "string" },
          "links": { "type": "string" },
          "order": { "type": "integer", "format": "int32" }
        }
      },
      "PageDtoPostListItemDto": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/PostListItemDto" }
          },
          "nextCursor": { "type": "string" }
        }
      },
      "PostListItemDto": {
        "type": "object",
        "properties": {
          "slug": { "type": "string" },
          "title": { "type": "string" },
          "excerpt": { "type": "string" },
          "tags": { "type": "array", "items": { "type": "string" } },
          "published_at": { "type": "string", "format": "date-time" },
          "cover_url": { "type": "string" }
        }
      },
      "PostDetailDto": {
        "type": "object",
        "properties": {
          "slug": { "type": "string" },
          "title": { "type": "string" },
          "content_mdx": { "type": "string" },
          "tags": { "type": "array", "items": { "type": "string" } },
          "published_at": { "type": "string", "format": "date-time" }
        }
      },
      "MetaDto": {
        "type": "object",
        "properties": {
          "email": { "type": "string" },
          "location": { "type": "string" },
          "socials": { "type": "string" },
          "hero": { "type": "string" }
        }
      },
      "ContactMessageEntity": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "name": { "type": "string" },
          "email": { "type": "string" },
          "message": { "type": "string" },
          "created_at": { "type": "string", "format": "date-time" },
          "handled": { "type": "boolean" }
        }
      }
    },
    "securitySchemes": {
      "bearer-jwt": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
